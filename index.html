<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì·¨ì—…ê·œì¹™ AI ìë™í™” í”Œë«í¼</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="header glass-card">
            <h1><i class="fas fa-robot"></i> ì·¨ì—…ê·œì¹™ AI ìë™í™” í”Œë«í¼</h1>
            <p>AI ê¸°ë°˜ ì·¨ì—…ê·œì¹™ ìë™ ìƒì„± ë° ë²•ë ¹ ì¤€ìˆ˜ ê²€í†  ì‹œìŠ¤í…œ</p>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="switchTab('generate')">
                <span><i class="fas fa-magic"></i> ê·œì¹™ ìƒì„±</span>
            </button>
            <button class="tab" onclick="switchTab('review')">
                <span><i class="fas fa-search"></i> ê·œì¹™ ê²€í† </span>
            </button>
            <button class="tab" onclick="switchTab('compare')">
                <span><i class="fas fa-chart-bar"></i> ë¹„êµ ë¶„ì„</span>
            </button>
        </div>
        
        <!-- ê·œì¹™ ìƒì„± íƒ­ -->
        <div id="generate" class="tab-content active">
            <div class="section-header">
                <i class="fas fa-magic icon"></i>
                <h2>ì·¨ì—…ê·œì¹™ ìë™ ìƒì„±</h2>
            </div>
            
            <div class="form-section">
                <div class="form-panel">
                    <div class="form-group">
                        <label for="companyName">
                            <i class="fas fa-building"></i>
                            íšŒì‚¬ëª…
                        </label>
                        <input type="text" id="companyName" placeholder="ì£¼ì‹íšŒì‚¬ ìƒ˜í”Œ" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="industry">
                            <i class="fas fa-industry"></i>
                            ì—…ì¢…
                        </label>
                        <select id="industry" required>
                            <option value="">ì—…ì¢… ì„ íƒ</option>
                            <option value="manufacturing">ğŸ­ ì œì¡°ì—…</option>
                            <option value="it">ğŸ’» ì •ë³´í†µì‹ ì—…</option>
                            <option value="retail">ğŸ›ï¸ ë„ì†Œë§¤ì—…</option>
                            <option value="finance">ğŸ¦ ê¸ˆìœµì—…</option>
                            <option value="construction">ğŸ—ï¸ ê±´ì„¤ì—…</option>
                            <option value="service">ğŸ”§ ì„œë¹„ìŠ¤ì—…</option>
                            <option value="food">ğŸ½ï¸ ìŒì‹ì ì—…</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="employeeCount">
                            <i class="fas fa-users"></i>
                            ì§ì› ìˆ˜
                        </label>
                        <input type="number" id="employeeCount" placeholder="50" min="1" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="workingHours">
                            <i class="fas fa-clock"></i>
                            ê·¼ë¬´ì‹œê°„
                        </label>
                        <select id="workingHours">
                            <option value="9to6">09:00 - 18:00</option>
                            <option value="8to5">08:00 - 17:00</option>
                            <option value="10to7">10:00 - 19:00</option>
                            <option value="flexible">ìœ ì—°ê·¼ë¬´ì œ</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="specialProvisions">
                            <i class="fas fa-edit"></i>
                            íŠ¹ë³„ ì¡°í•­
                        </label>
                        <textarea id="specialProvisions" placeholder="íšŒì‚¬ë³„ íŠ¹ë³„í•œ ê·œì •ì´ë‚˜ ì¡°í•­ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                    </div>
                </div>
                
                <div class="form-panel preview-section">
                    <h3><i class="fas fa-file-alt"></i> ìƒì„±ëœ ì·¨ì—…ê·œì¹™ ë¯¸ë¦¬ë³´ê¸°</h3>
                    <div id="generatedRules">
                        <div style="color: #94a3b8; text-align: center; padding: 60px 20px;">
                            <i class="fas fa-arrow-left" style="font-size: 2rem; margin-bottom: 16px; opacity: 0.5;"></i>
                            <p style="font-size: 18px; font-weight: 500;">ì¢Œì¸¡ ì •ë³´ë¥¼ ì…ë ¥í•˜ê³  "ê·œì¹™ ìƒì„±" ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.</p>
                            <p style="font-size: 14px; margin-top: 8px; opacity: 0.7;">AIê°€ ìë™ìœ¼ë¡œ ë²•ë ¹ì— ë§ëŠ” ì·¨ì—…ê·œì¹™ì„ ìƒì„±í•©ë‹ˆë‹¤.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="generateRules()">
                    <i class="fas fa-magic"></i> ê·œì¹™ ìƒì„±
                </button>
                <button class="btn btn-secondary" onclick="downloadRules()">
                    <i class="fas fa-download"></i> ë‹¤ìš´ë¡œë“œ
                </button>
                <button class="btn btn-success" onclick="autoReview()">
                    <i class="fas fa-search"></i> ìë™ ê²€í† 
                </button>
            </div>
            
            <div class="loading" id="generateLoading">
                <div class="spinner"></div>
                <p><i class="fas fa-cog fa-spin"></i> AIê°€ ì·¨ì—…ê·œì¹™ì„ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...</p>
            </div>
        </div>
        
        <!-- ê·œì¹™ ê²€í†  íƒ­ -->
        <div id="review" class="tab-content">
            <div class="section-header">
                <i class="fas fa-search icon"></i>
                <h2>ì·¨ì—…ê·œì¹™ ìë™ ê²€í† </h2>
            </div>
            
            <div class="form-section">
                <div class="form-panel">
                    <div class="form-group">
                        <label for="reviewCompany">
                            <i class="fas fa-building"></i>
                            íšŒì‚¬ëª…
                        </label>
                        <input type="text" id="reviewCompany" placeholder="ê²€í† í•  íšŒì‚¬ëª…">
                    </div>
                    
                    <div class="form-group">
                        <label for="reviewIndustry">
                            <i class="fas fa-industry"></i>
                            ì—…ì¢…
                        </label>
                        <select id="reviewIndustry">
                            <option value="">ì—…ì¢… ì„ íƒ</option>
                            <option value="manufacturing">ğŸ­ ì œì¡°ì—…</option>
                            <option value="it">ğŸ’» ì •ë³´í†µì‹ ì—…</option>
                            <option value="retail">ğŸ›ï¸ ë„ì†Œë§¤ì—…</option>
                            <option value="finance">ğŸ¦ ê¸ˆìœµì—…</option>
                            <option value="construction">ğŸ—ï¸ ê±´ì„¤ì—…</option>
                            <option value="service">ğŸ”§ ì„œë¹„ìŠ¤ì—…</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="rulesText">
                            <i class="fas fa-file-text"></i>
                            ì·¨ì—…ê·œì¹™ ì›ë¬¸
                        </label>
                        <textarea id="rulesText" placeholder="ê²€í† í•  ì·¨ì—…ê·œì¹™ ì „ë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”...

ì˜ˆì‹œ:
ì œ1ì¡° (ëª©ì ) ì´ ê·œì¹™ì€ íšŒì‚¬ì˜ ê·¼ë¡œìì˜ ì·¨ì—…ì— ê´€í•œ ì‚¬í•­ì„ ì •í•¨ì„ ëª©ì ìœ¼ë¡œ í•œë‹¤.
ì œ2ì¡° (ì ìš©ë²”ìœ„) ì´ ê·œì¹™ì€ íšŒì‚¬ì˜ ëª¨ë“  ê·¼ë¡œìì—ê²Œ ì ìš©í•œë‹¤.
..."></textarea>
                    </div>
                </div>
                
                <div class="form-panel">
                    <div id="reviewResult" class="analysis-result" style="display: none;">
                        <h3><i class="fas fa-clipboard-check"></i> ê²€í†  ê²°ê³¼</h3>
                        <div id="riskLevel"></div>
                        <div id="issues"></div>
                        <div id="suggestions"></div>
                    </div>
                    
                    <div id="noReviewYet" style="color: #94a3b8; text-align: center; padding: 60px 20px;">
                        <i class="fas fa-search" style="font-size: 2rem; margin-bottom: 16px; opacity: 0.5;"></i>
                        <p style="font-size: 18px; font-weight: 500;">ì·¨ì—…ê·œì¹™ì„ ì…ë ¥í•˜ê³  ê²€í† ë¥¼ ì‹œì‘í•˜ì„¸ìš”.</p>
                        <p style="font-size: 14px; margin-top: 8px; opacity: 0.7;">AIê°€ ë²•ë ¹ ì¤€ìˆ˜ ì—¬ë¶€ë¥¼ ìë™ìœ¼ë¡œ ë¶„ì„í•©ë‹ˆë‹¤.</p>
                    </div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="reviewRules()">
                    <i class="fas fa-search"></i> ê²€í†  ì‹œì‘
                </button>
                <button class="btn btn-secondary" onclick="generateReport()">
                    <i class="fas fa-file-alt"></i> ë³´ê³ ì„œ ìƒì„±
                </button>
            </div>
            
            <div class="loading" id="reviewLoading">
                <div class="spinner"></div>
                <p><i class="fas fa-cog fa-spin"></i> AIê°€ ì·¨ì—…ê·œì¹™ì„ ê²€í† í•˜ê³  ìˆìŠµë‹ˆë‹¤...</p>
            </div>
        </div>
        
        <!-- ë¹„êµ ë¶„ì„ íƒ­ -->
        <div id="compare" class="tab-content">
            <div class="section-header">
                <i class="fas fa-chart-bar icon"></i>
                <h2>ì—…ì¢…ë³„ ë¹„êµ ë¶„ì„</h2>
            </div>
            
            <div class="form-section">
                <div class="form-panel">
                    <div class="form-group">
                        <label for="compareIndustry">
                            <i class="fas fa-industry"></i>
                            ë¹„êµ ì—…ì¢…
                        </label>
                        <select id="compareIndustry">
                            <option value="it">ğŸ’» ì •ë³´í†µì‹ ì—…</option>
                            <option value="manufacturing">ğŸ­ ì œì¡°ì—…</option>
                            <option value="finance">ğŸ¦ ê¸ˆìœµì—…</option>
                            <option value="retail">ğŸ›ï¸ ë„ì†Œë§¤ì—…</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="compareSize">
                            <i class="fas fa-users"></i>
                            íšŒì‚¬ ê·œëª¨
                        </label>
                        <select id="compareSize">
                            <option value="small">ğŸ¢ ì†Œê¸°ì—… (10-49ëª…)</option>
                            <option value="medium">ğŸ¬ ì¤‘ê¸°ì—… (50-299ëª…)</option>
                            <option value="large">ğŸ­ ëŒ€ê¸°ì—… (300ëª… ì´ìƒ)</option>
                        </select>
                    </div>
                    
                    <div class="info-card highlight">
                        <h4><i class="fas fa-info-circle"></i> ë¶„ì„ ë²”ìœ„</h4>
                        <p>â€¢ ì—…ì¢…ë³„ í‘œì¤€ ê·¼ë¡œì¡°ê±´ ë¹„êµ</p>
                        <p>â€¢ ê·œëª¨ë³„ ë³µë¦¬í›„ìƒ ìˆ˜ì¤€ ë¶„ì„</p>
                        <p>â€¢ ë²•ì  ë¦¬ìŠ¤í¬ ìš”ì†Œ ê²€í† </p>
                        <p>â€¢ ê°œì„  ê¶Œì¥ì‚¬í•­ ì œì‹œ</p>
                    </div>
                </div>
                
                <div class="form-panel preview-section">
                    <h3><i class="fas fa-chart-line"></i> ì—…ì¢…ë³„ í‘œì¤€ ê¸°ì¤€</h3>
                    <div id="comparisonResult">
                        <div style="color: #94a3b8; text-align: center; padding: 60px 20px;">
                            <i class="fas fa-chart-bar" style="font-size: 2rem; margin-bottom: 16px; opacity: 0.5;"></i>
                            <p style="font-size: 18px; font-weight: 500;">ë¶„ì„ì„ ì‹œì‘í•˜ë ¤ë©´ "ë¶„ì„ ì‹œì‘" ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.</p>
                            <p style="font-size: 14px; margin-top: 8px; opacity: 0.7;">ì—…ì¢…ë³„ í‘œì¤€ ê¸°ì¤€ê³¼ ë¹„êµ ë¶„ì„ ê²°ê³¼ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="compareRules()">
                    <i class="fas fa-chart-bar"></i> ë¶„ì„ ì‹œì‘
                </button>
                <button class="btn btn-secondary" onclick="exportComparison()">
                    <i class="fas fa-file-export"></i> ë¹„êµí‘œ ë‚´ë³´ë‚´ê¸°
                </button>
            </div>
        </div>
    </div>

    <script>
        // íƒ­ ì „í™˜ í•¨ìˆ˜
        function switchTab(tabName) {
            // ëª¨ë“  íƒ­ ë¹„í™œì„±í™”
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // ì„ íƒëœ íƒ­ í™œì„±í™”
            event.target.closest('.tab').classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        // ì·¨ì—…ê·œì¹™ ìƒì„± í•¨ìˆ˜
        function generateRules() {
            const companyName = document.getElementById('companyName').value;
            const industry = document.getElementById('industry').value;
            const employeeCount = document.getElementById('employeeCount').value;
            const workingHours = document.getElementById('workingHours').value;
            const specialProvisions = document.getElementById('specialProvisions').value;

            if (!companyName || !industry || !employeeCount) {
                alert('í•„ìˆ˜ ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ë¡œë”© í‘œì‹œ
            document.getElementById('generateLoading').style.display = 'block';

            // 2ì´ˆ í›„ ê²°ê³¼ ìƒì„± (ì‹¤ì œë¡œëŠ” API í˜¸ì¶œ)
            setTimeout(() => {
                const generatedRules = generateEmploymentRules(companyName, industry, employeeCount, workingHours, specialProvisions);
                document.getElementById('generatedRules').innerHTML = generatedRules;
                document.getElementById('generateLoading').style.display = 'none';
            }, 2000);
        }

        // ì·¨ì—…ê·œì¹™ í…œí”Œë¦¿ ìƒì„±
        function generateEmploymentRules(companyName, industry, employeeCount, workingHours, specialProvisions) {
            const workingHoursText = {
                '9to6': 'ì˜¤ì „ 9ì‹œë¶€í„° ì˜¤í›„ 6ì‹œê¹Œì§€',
                '8to5': 'ì˜¤ì „ 8ì‹œë¶€í„° ì˜¤í›„ 5ì‹œê¹Œì§€',
                '10to7': 'ì˜¤ì „ 10ì‹œë¶€í„° ì˜¤í›„ 7ì‹œê¹Œì§€',
                'flexible': 'ìœ ì—°ê·¼ë¬´ì œ ì ìš©'
            };

            const industrySpecific = {
                'manufacturing': 'ì œì¡°ì—… íŠ¹ì„±ìƒ ì•ˆì „ ê·œì •ì„ ì—„ê²©íˆ ì¤€ìˆ˜í•´ì•¼ í•¨',
                'it': 'ITì—…ê³„ íŠ¹ì„±ìƒ ì¬íƒê·¼ë¬´ ë° ìœ ì—°ê·¼ë¬´ í—ˆìš©',
                'retail': 'ê³ ê° ì„œë¹„ìŠ¤ ìš°ì„  ì›ì¹™ ì ìš©',
                'finance': 'ê¸ˆìœµì—… ê´€ë ¨ ë²•ë ¹ ì¤€ìˆ˜ ë° ë³´ì•ˆ ê·œì • ì—„ê²© ì ìš©',
                'construction': 'ê±´ì„¤ì—… ì•ˆì „ ê·œì • ë° í˜„ì¥ ê·¼ë¬´ ê·œì¹™ ì ìš©',
                'service': 'ì„œë¹„ìŠ¤ì—… íŠ¹ì„±ì— ë§ëŠ” ê³ ê° ì‘ëŒ€ ê·œì • ì ìš©'
            };

            return `
                <div class="generated-rules">
                    <h2>${companyName} ì·¨ì—…ê·œì¹™</h2>
                    
                    <h3>ì œ1ì¥ ì´ì¹™</h3>
                    <p><strong>ì œ1ì¡° (ëª©ì )</strong><br>
                    ì´ ê·œì¹™ì€ ${companyName}(ì´í•˜ "íšŒì‚¬"ë¼ í•œë‹¤)ì˜ ê·¼ë¡œìì˜ ì·¨ì—…ì— ê´€í•œ ì‚¬í•­ì„ ì •í•¨ì„ ëª©ì ìœ¼ë¡œ í•œë‹¤.</p>
                    
                    <p><strong>ì œ2ì¡° (ì ìš©ë²”ìœ„)</strong><br>
                    ì´ ê·œì¹™ì€ íšŒì‚¬ì˜ ëª¨ë“  ê·¼ë¡œìì—ê²Œ ì ìš©í•œë‹¤. ë‹¨, ë³„ë„ì˜ ê·¼ë¡œê³„ì•½ì´ë‚˜ ë‹¨ì²´í˜‘ì•½ì´ ìˆëŠ” ê²½ìš°ì—ëŠ” ê·¸ì— ë”°ë¥¸ë‹¤.</p>
                    
                    <h3>ì œ2ì¥ ê·¼ë¡œì‹œê°„ ë° íœ´ê²Œ</h3>
                    <p><strong>ì œ3ì¡° (ê·¼ë¡œì‹œê°„)</strong><br>
                    1. ì†Œì •ê·¼ë¡œì‹œê°„ì€ ì£¼ 40ì‹œê°„ìœ¼ë¡œ í•˜ê³ , 1ì¼ 8ì‹œê°„ìœ¼ë¡œ í•œë‹¤.<br>
                    2. ê·¼ë¬´ì‹œê°„ì€ ${workingHoursText[workingHours]}ë¡œ í•œë‹¤.<br>
                    3. ì ì‹¬ì‹œê°„ì€ 12:00~13:00 (1ì‹œê°„)ìœ¼ë¡œ í•œë‹¤.</p>
                    
                    <p><strong>ì œ4ì¡° (íœ´ì¼)</strong><br>
                    1. ì£¼íœ´ì¼: í† ìš”ì¼, ì¼ìš”ì¼<br>
                    2. êµ­ê²½ì¼ ë° ê´€ê³µì„œì˜ ê³µíœ´ì¼<br>
                    3. ê¸°íƒ€ íšŒì‚¬ê°€ ì§€ì •í•˜ëŠ” ë‚ </p>
                    
                    <h3>ì œ3ì¥ ì„ê¸ˆ</h3>
                    <p><strong>ì œ5ì¡° (ì„ê¸ˆì˜ êµ¬ì„±)</strong><br>
                    ì„ê¸ˆì€ ê¸°ë³¸ê¸‰, ì œìˆ˜ë‹¹, ìƒì—¬ê¸ˆìœ¼ë¡œ êµ¬ì„±í•œë‹¤.</p>
                    
                    <p><strong>ì œ6ì¡° (ì„ê¸ˆì˜ ì§€ê¸‰)</strong><br>
                    ì„ê¸ˆì€ ë§¤ì›” 25ì¼ì— ì§€ê¸‰í•œë‹¤. ë‹¨, ì§€ê¸‰ì¼ì´ íœ´ì¼ì¸ ê²½ìš°ì—ëŠ” ê·¸ ì „ì¼ì— ì§€ê¸‰í•œë‹¤.</p>
                    
                    <h3>ì œ4ì¥ ë³µë¦¬í›„ìƒ</h3>
                    <p><strong>ì œ7ì¡° (ì—°ì°¨ìœ ê¸‰íœ´ê°€)</strong><br>
                    ê·¼ë¡œê¸°ì¤€ë²•ì— ë”°ë¼ ì—°ì°¨ìœ ê¸‰íœ´ê°€ë¥¼ ë¶€ì—¬í•œë‹¤.</p>
                    
                    <h3>ì œ5ì¥ ì§•ê³„</h3>
                    <p><strong>ì œ8ì¡° (ì§•ê³„ì˜ ì¢…ë¥˜)</strong><br>
                    ì§•ê³„ì˜ ì¢…ë¥˜ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.<br>
                    1. ê²¬ì±…<br>
                    2. ê°ë´‰<br>
                    3. ì •ì§<br>
                    4. í•´ê³ </p>
                    
                    ${specialProvisions ? `<h3>ì œ6ì¥ íŠ¹ë³„ ì¡°í•­</h3><p><strong>ì œ9ì¡° (íŠ¹ë³„ ê·œì •)</strong><br>${specialProvisions}</p>` : ''}
                    
                    <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                        <p style="color: #6366f1;"><strong>ğŸ¢ ì—…ì¢…ë³„ íŠ¹ì„±:</strong><br>${industrySpecific[industry] || ''}</p>
                    </div>
                    
                    <div style="margin-top: 40px; text-align: center; color: #6c757d; border-top: 2px solid #e2e8f0; padding-top: 20px;">
                        <p><strong>ì‹œí–‰ì¼:</strong> ${new Date().toLocaleDateString('ko-KR')}</p>
                        <p style="margin-top: 8px;"><strong>${companyName} ëŒ€í‘œì´ì‚¬</strong></p>
                    </div>
                </div>
            `;
        }

        // ìë™ ê²€í†  í•¨ìˆ˜
        function autoReview() {
            const generatedContent = document.getElementById('generatedRules').innerHTML;
            if (!generatedContent || generatedContent.includes('ì¢Œì¸¡ ì •ë³´ë¥¼ ì…ë ¥í•˜ê³ ')) {
                alert('ë¨¼ì € ì·¨ì—…ê·œì¹™ì„ ìƒì„±í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ê²€í†  íƒ­ìœ¼ë¡œ ì´ë™í•˜ê³  ë‚´ìš© ìë™ ì…ë ¥
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.querySelector('[onclick="switchTab(\'review\')"]').classList.add('active');
            document.getElementById('review').classList.add('active');
            
            const companyName = document.getElementById('companyName').value;
            const industry = document.getElementById('industry').value;
            
            document.getElementById('reviewCompany').value = companyName;
            document.getElementById('reviewIndustry').value = industry;
            document.getElementById('rulesText').value = generatedContent.replace(/<[^>]*>/g, '').trim();
            
            // ìë™ìœ¼ë¡œ ê²€í†  ì‹œì‘
            setTimeout(() => {
                reviewRules();
            }, 500);
        }

        // ì·¨ì—…ê·œì¹™ ê²€í†  í•¨ìˆ˜
        function reviewRules() {
            const rulesText = document.getElementById('rulesText').value;
            const industry = document.getElementById('reviewIndustry').value;
            
            if (!rulesText.trim()) {
                alert('ê²€í† í•  ì·¨ì—…ê·œì¹™ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            document.getElementById('reviewLoading').style.display = 'block';
            document.getElementById('reviewResult').style.display = 'none';
            document.getElementById('noReviewYet').style.display = 'none';

            // 2ì´ˆ í›„ ê²€í†  ê²°ê³¼ í‘œì‹œ
            setTimeout(() => {
                const reviewResult = analyzeEmploymentRules(rulesText, industry);
                displayReviewResult(reviewResult);
                document.getElementById('reviewLoading').style.display = 'none';
                document.getElementById('reviewResult').style.display = 'block';
            }, 2000);
        }

        // ì·¨ì—…ê·œì¹™ ë¶„ì„ í•¨ìˆ˜
        function analyzeEmploymentRules(rulesText, industry) {
            const issues = [];
            const suggestions = [];
            let riskLevel = 'low';

            // í•„ìˆ˜ ì¡°í•­ ê²€ì‚¬
            const requiredClauses = [
                { clause: 'ê·¼ë¡œì‹œê°„', regex: /ê·¼ë¡œì‹œê°„|ê·¼ë¬´ì‹œê°„/i },
                { clause: 'ì„ê¸ˆ', regex: /ì„ê¸ˆ|ê¸‰ì—¬/i },
                { clause: 'íœ´ì¼', regex: /íœ´ì¼|íœ´ê°€/i },
                { clause: 'ì§•ê³„', regex: /ì§•ê³„/i }
            ];

            requiredClauses.forEach(item => {
                if (!item.regex.test(rulesText)) {
                    issues.push({
                        type: 'critical',
                        title: `í•„ìˆ˜ ì¡°í•­ ëˆ„ë½: ${item.clause}`,
                        description: `ê·¼ë¡œê¸°ì¤€ë²•ìƒ í•„ìˆ˜ ì¡°í•­ì¸ ${item.clause}ì— ëŒ€í•œ ê·œì •ì´ ì—†ìŠµë‹ˆë‹¤.`,
                        solution: `${item.clause}ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ê·œì •ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.`
                    });
                    riskLevel = 'critical';
                }
            });

            // ê·¼ë¡œì‹œê°„ ê´€ë ¨ ê²€ì‚¬
            if (/ì£¼.*48ì‹œê°„|ì¼.*10ì‹œê°„/i.test(rulesText)) {
                issues.push({
                    type: 'high',
                    title: 'ê·¼ë¡œì‹œê°„ ìœ„ë°˜',
                    description: 'ë²•ì • ê·¼ë¡œì‹œê°„(ì£¼ 40ì‹œê°„, ì¼ 8ì‹œê°„)ì„ ì´ˆê³¼í•˜ëŠ” ê·œì •ì´ ìˆìŠµë‹ˆë‹¤.',
                    solution: 'ê·¼ë¡œê¸°ì¤€ë²•ì— ë§ê²Œ ì£¼ 40ì‹œê°„, ì¼ 8ì‹œê°„ìœ¼ë¡œ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤.'
                });
                if (riskLevel === 'low') riskLevel = 'high';
            }

            // ì—°ì°¨íœ´ê°€ ê´€ë ¨ ê²€ì‚¬
            if (!/ì—°ì°¨.*íœ´ê°€/i.test(rulesText)) {
                issues.push({
                    type: 'medium',
                    title: 'ì—°ì°¨íœ´ê°€ ê·œì • ë¶ˆëª…í™•',
                    description: 'ì—°ì°¨íœ´ê°€ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ê·œì •ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.',
                    solution: 'ê·¼ë¡œê¸°ì¤€ë²•ì— ë”°ë¥¸ ì—°ì°¨íœ´ê°€ ì¼ìˆ˜ì™€ ì‚¬ìš© ì ˆì°¨ë¥¼ ëª…ì‹œí•´ì•¼ í•©ë‹ˆë‹¤.'
                });
                if (riskLevel === 'low') riskLevel = 'medium';
            }

            // ì—…ì¢…ë³„ íŠ¹ë³„ ê²€ì‚¬
            if (industry === 'it' && !/ì¬íƒê·¼ë¬´|ìœ ì—°ê·¼ë¬´/i.test(rulesText)) {
                suggestions.push({
                    title: 'ITì—…ì¢… íŠ¹ì„± ë°˜ì˜ ì œì•ˆ',
                    description: 'ITì—…ê³„ íŠ¹ì„±ìƒ ì¬íƒê·¼ë¬´ë‚˜ ìœ ì—°ê·¼ë¬´ì œ ë„ì…ì„ ê³ ë ¤í•´ë³´ì„¸ìš”.',
                    benefit: 'ì§ì› ë§Œì¡±ë„ í–¥ìƒ ë° ìš°ìˆ˜ ì¸ì¬ í™•ë³´ì— ë„ì›€ë©ë‹ˆë‹¤.'
                });
            }

            if (industry === 'manufacturing' && !/ì•ˆì „|ë³´í˜¸êµ¬/i.test(rulesText)) {
                issues.push({
                    type: 'high',
                    title: 'ì•ˆì „ ê·œì • ë¶€ì¡±',
                    description: 'ì œì¡°ì—… íŠ¹ì„±ìƒ ì•ˆì „ ê´€ë ¨ ê·œì •ì´ í•„ìˆ˜ì…ë‹ˆë‹¤.',
                    solution: 'ì‚°ì—…ì•ˆì „ë³´ê±´ë²•ì— ë”°ë¥¸ ì•ˆì „ ê·œì •ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.'
                });
                if (riskLevel === 'low' || riskLevel === 'medium') riskLevel = 'high';
            }

            // ê¸ì •ì ì¸ ìš”ì†Œ ì²´í¬
            if (/ë³µë¦¬í›„ìƒ|êµìœ¡ì§€ì›|ìê¸°ê³„ë°œ/i.test(rulesText)) {
                suggestions.push({
                    title: 'ë³µë¦¬í›„ìƒ ê·œì • ìš°ìˆ˜',
                    description: 'ì§ì› ë³µë¦¬í›„ìƒì— ëŒ€í•œ ê·œì •ì´ ì˜ ë§ˆë ¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.',
                    benefit: 'ì§ì› ë§Œì¡±ë„ì™€ íšŒì‚¬ ì´ë¯¸ì§€ í–¥ìƒì— ë„ì›€ë©ë‹ˆë‹¤.'
                });
            }

            return { issues, suggestions, riskLevel };
        }

        // ê²€í†  ê²°ê³¼ í‘œì‹œ í•¨ìˆ˜
        function displayReviewResult(result) {
            const riskLevelDiv = document.getElementById('riskLevel');
            const issuesDiv = document.getElementById('issues');
            const suggestionsDiv = document.getElementById('suggestions');

            // ìœ„í—˜ë„ í‘œì‹œ
            const riskLabels = {
                'low': { text: 'ë‚®ìŒ', class: 'risk-low', icon: 'fas fa-check-circle' },
                'medium': { text: 'ë³´í†µ', class: 'risk-medium', icon: 'fas fa-exclamation-triangle' },
                'high': { text: 'ë†’ìŒ', class: 'risk-high', icon: 'fas fa-exclamation-circle' },
                'critical': { text: 'ë§¤ìš° ë†’ìŒ', class: 'risk-critical', icon: 'fas fa-times-circle' }
            };

            const risk = riskLabels[result.riskLevel];
            riskLevelDiv.innerHTML = `<div class="risk-badge ${risk.class}"><i class="${risk.icon}"></i> ìœ„í—˜ë„: ${risk.text}</div>`;

            // ì´ìŠˆ í‘œì‹œ
            let issuesHTML = '<h4><i class="fas fa-exclamation-triangle"></i> ë°œê²¬ëœ ë¬¸ì œì </h4>';
            if (result.issues.length === 0) {
                issuesHTML += '<div class="info-card success"><p><i class="fas fa-check"></i> ë°œê²¬ëœ ë¬¸ì œì ì´ ì—†ìŠµë‹ˆë‹¤.</p></div>';
            } else {
                result.issues.forEach(issue => {
                    const issueClass = issue.type === 'critical' ? '' : issue.type === 'high' ? '' : 'warning';
                    issuesHTML += `
                        <div class="issue-item ${issueClass}">
                            <h4><i class="fas fa-bug"></i> ${issue.title}</h4>
                            <p><strong>ë¬¸ì œ:</strong> ${issue.description}</p>
                            <p><strong>í•´ê²°ë°©ì•ˆ:</strong> ${issue.solution}</p>
                        </div>
                    `;
                });
            }
            issuesDiv.innerHTML = issuesHTML;

            // ì œì•ˆì‚¬í•­ í‘œì‹œ
            let suggestionsHTML = '<h4><i class="fas fa-lightbulb"></i> ê°œì„  ì œì•ˆì‚¬í•­</h4>';
            if (result.suggestions.length === 0) {
                suggestionsHTML += '<div class="info-card"><p>ì¶”ê°€ ì œì•ˆì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.</p></div>';
            } else {
                result.suggestions.forEach(suggestion => {
                    suggestionsHTML += `
                        <div class="issue-item info">
                            <h4><i class="fas fa-star"></i> ${suggestion.title}</h4>
                            <p><strong>ì œì•ˆ:</strong> ${suggestion.description}</p>
                            <p><strong>íš¨ê³¼:</strong> ${suggestion.benefit}</p>
                        </div>
                    `;
                });
            }
            suggestionsDiv.innerHTML = suggestionsHTML;
        }

        // ë¹„êµ ë¶„ì„ í•¨ìˆ˜
        function compareRules() {
            const industry = document.getElementById('compareIndustry').value;
            const size = document.getElementById('compareSize').value;
            
            const comparisonData = getIndustryStandards(industry, size);
            displayComparison(comparisonData);
        }

        // ì—…ì¢…ë³„ í‘œì¤€ ë°ì´í„° ìƒì„±
        function getIndustryStandards(industry, size) {
            const standards = {
                'it': {
                    workingHours: 'ì£¼ 40ì‹œê°„ (ìœ ì—°ê·¼ë¬´ 70% ì ìš©)',
                    vacation: 'ë²•ì • ì—°ì°¨ + ë¦¬í”„ë ˆì‹œ íœ´ê°€ 5ì¼',
                    benefits: 'ì¬íƒê·¼ë¬´, êµìœ¡ë¹„ ì§€ì›, ê±´ê°•ê²€ì§„',
                    salary: 'ì—°ë´‰ì œ 95%, ì„±ê³¼ê¸‰ ì—°ë™',
                    special: 'ê°œë°œì íŠ¹ë³„ ìˆ˜ë‹¹, ë„ì„œêµ¬ì…ë¹„ ì§€ì›'
                },
                'manufacturing': {
                    workingHours: 'ì£¼ 40ì‹œê°„ (êµëŒ€ê·¼ë¬´ 50% ì ìš©)',
                    vacation: 'ë²•ì • ì—°ì°¨ + í•˜ê³„íœ´ê°€ 3ì¼',
                    benefits: 'ì•ˆì „ë³´í—˜, ì‘ì—…ë³µ ì§€ê¸‰, ì•ˆì „êµìœ¡',
                    salary: 'ì›”ê¸‰ì œ 80%, ìƒì‚°ì„± ë³´ë„ˆìŠ¤',
                    special: 'ì•ˆì „ ê·œì • ì¤€ìˆ˜, ìœ„í—˜ìˆ˜ë‹¹ ì§€ê¸‰'
                },
                'finance': {
                    workingHours: 'ì£¼ 40ì‹œê°„ (ì—°ì¥ê·¼ë¬´ ì œí•œì )',
                    vacation: 'ë²•ì • ì—°ì°¨ + ê°œì¸íœ´ê°€ 7ì¼',
                    benefits: 'ê¸ˆìœµìƒí’ˆ ìš°ëŒ€, ìê²©ì¦ ì·¨ë“ ì§€ì›',
                    salary: 'ì—°ë´‰ì œ 90%, ì„±ê³¼ ì¸ì„¼í‹°ë¸Œ',
                    special: 'ë³´ì•ˆ ê·œì • ì—„ê²©, ì´í•´ì¶©ëŒ ë°©ì§€'
                },
                'retail': {
                    workingHours: 'ì£¼ 40ì‹œê°„ (ìˆœí™˜ê·¼ë¬´ ì ìš©)',
                    vacation: 'ë²•ì • ì—°ì°¨ + ë§¤ì¥íœ´ë¬´ì¼ ì—°ê³„',
                    benefits: 'ì§ì›í• ì¸, íŒë§¤ ì¸ì„¼í‹°ë¸Œ',
                    salary: 'ì‹œê¸‰ì œ 60%, ì›”ê¸‰ì œ 40%',
                    special: 'ê³ ê°ì„œë¹„ìŠ¤ êµìœ¡, ë§¤ì¶œ ì—°ë™ ë³´ìƒ'
                }
            };

            const sizeMultipliers = {
                'small': { vacation: 0.8, benefits: 0.7, salary: 0.9 },
                'medium': { vacation: 1.0, benefits: 1.0, salary: 1.0 },
                'large': { vacation: 1.2, benefits: 1.3, salary: 1.1 }
            };

            return {
                standard: standards[industry],
                sizeAdjustment: sizeMultipliers[size],
                industryName: {
                    'it': 'ì •ë³´í†µì‹ ì—…',
                    'manufacturing': 'ì œì¡°ì—…',
                    'finance': 'ê¸ˆìœµì—…',
                    'retail': 'ë„ì†Œë§¤ì—…'
                }[industry],
                sizeName: {
                    'small': 'ì†Œê¸°ì—…',
                    'medium': 'ì¤‘ê¸°ì—…',
                    'large': 'ëŒ€ê¸°ì—…'
                }[size]
            };
        }

        // ë¹„êµ ê²°ê³¼ í‘œì‹œ
        function displayComparison(data) {
            const resultDiv = document.getElementById('comparisonResult');
            
            resultDiv.innerHTML = `
                <div style="background: white; color: #2d3748; border-radius: 16px; padding: 32px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
                    <h3 style="color: #6366f1; margin-bottom: 24px;">
                        <i class="fas fa-chart-line"></i> ${data.industryName} ${data.sizeName} í‘œì¤€ ê¸°ì¤€
                    </h3>
                    
                    <div class="comparison-grid">
                        <div class="comparison-item">
                            <h4><i class="fas fa-clock"></i> ê·¼ë¡œì‹œê°„</h4>
                            <p>${data.standard.workingHours}</p>
                        </div>
                        
                        <div class="comparison-item">
                            <h4><i class="fas fa-umbrella-beach"></i> íœ´ê°€ì œë„</h4>
                            <p>${data.standard.vacation}</p>
                        </div>
                        
                        <div class="comparison-item">
                            <h4><i class="fas fa-gift"></i> ë³µë¦¬í›„ìƒ</h4>
                            <p>${data.standard.benefits}</p>
                        </div>
                        
                        <div class="comparison-item">
                            <h4><i class="fas fa-money-bill-wave"></i> ê¸‰ì—¬ì²´ê³„</h4>
                            <p>${data.standard.salary}</p>
                        </div>
                    </div>
                    
                    <div class="info-card highlight" style="margin-top: 24px;">
                        <h4><i class="fas fa-star"></i> íŠ¹ë³„ì‚¬í•­</h4>
                        <p>${data.standard.special}</p>
                    </div>
                    
                    <div class="info-card" style="margin-top: 20px;">
                        <h4><i class="fas fa-chart-bar"></i> ê·œëª¨ë³„ ì¡°ì • ì‚¬í•­</h4>
                        <p>â€¢ íœ´ê°€: í‘œì¤€ ëŒ€ë¹„ ${Math.round(data.sizeAdjustment.vacation * 100)}%</p>
                        <p>â€¢ ë³µë¦¬í›„ìƒ: í‘œì¤€ ëŒ€ë¹„ ${Math.round(data.sizeAdjustment.benefits * 100)}%</p>
                        <p>â€¢ ê¸‰ì—¬ìˆ˜ì¤€: í‘œì¤€ ëŒ€ë¹„ ${Math.round(data.sizeAdjustment.salary * 100)}%</p>
                    </div>
                    
                    <div class="info-card success" style="margin-top: 20px;">
                        <h4><i class="fas fa-lightbulb"></i> ê¶Œì¥ì‚¬í•­</h4>
                        <p>â€¢ ì—…ì¢… íŠ¹ì„±ì— ë§ëŠ” ìœ ì—°í•œ ê·¼ë¬´ì œë„ ë„ì…</p>
                        <p>â€¢ ì§ì› ë§Œì¡±ë„ í–¥ìƒì„ ìœ„í•œ ë³µë¦¬í›„ìƒ í™•ëŒ€</p>
                        <p>â€¢ ë²•ë ¹ ì¤€ìˆ˜ë¥¼ ìœ„í•œ ì •ê¸°ì ì¸ ê·œì • ê²€í† </p>
                        <p>â€¢ ë™ì¢…ì—…ê³„ ëŒ€ë¹„ ê²½ìŸë ¥ ìˆëŠ” ì²˜ìš° ìˆ˜ì¤€ ìœ ì§€</p>
                    </div>
                </div>
            `;
        }

        // ë‹¤ìš´ë¡œë“œ í•¨ìˆ˜
        function downloadRules() {
            const content = document.getElementById('generatedRules').innerText;
            if (!content || content.includes('ì¢Œì¸¡ ì •ë³´ë¥¼ ì…ë ¥í•˜ê³ ')) {
                alert('ë¨¼ì € ì·¨ì—…ê·œì¹™ì„ ìƒì„±í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'ì·¨ì—…ê·œì¹™.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        // ë³´ê³ ì„œ ìƒì„± í•¨ìˆ˜
        function generateReport() {
            const reviewResult = document.getElementById('reviewResult');
            if (reviewResult.style.display === 'none') {
                alert('ë¨¼ì € ê²€í† ë¥¼ ì™„ë£Œí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const companyName = document.getElementById('reviewCompany').value || 'íšŒì‚¬ëª…';
            const today = new Date().toLocaleDateString('ko-KR');
            
            const reportContent = `
==========================================
ì·¨ì—…ê·œì¹™ ê²€í†  ë³´ê³ ì„œ
==========================================

íšŒì‚¬ëª…: ${companyName}
ê²€í† ì¼: ${today}
ê²€í† ì: AI ìë™ ê²€í†  ì‹œìŠ¤í…œ

${reviewResult.innerText}

==========================================
â€» ë³¸ ë³´ê³ ì„œëŠ” AI ì‹œìŠ¤í…œì— ì˜í•œ ìë™ ë¶„ì„ ê²°ê³¼ì´ë©°, 
   ìµœì¢… ê²€í† ëŠ” ë…¸ë¬´ ì „ë¬¸ê°€ì˜ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.
==========================================
            `.trim();
            
            const blob = new Blob([reportContent], { type: 'text/plain;charset=utf-8' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `ì·¨ì—…ê·œì¹™_ê²€í† ë³´ê³ ì„œ_${companyName}_${today.replace(/\./g, '')}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        // ë¹„êµí‘œ ë‚´ë³´ë‚´ê¸° í•¨ìˆ˜
        function exportComparison() {
            const comparisonContent = document.getElementById('comparisonResult').innerText;
            if (!comparisonContent || comparisonContent.includes('ë¶„ì„ì„ ì‹œì‘í•˜ë ¤ë©´')) {
                alert('ë¨¼ì € ë¹„êµ ë¶„ì„ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const today = new Date().toLocaleDateString('ko-KR');
            const exportContent = `
==========================================
ì—…ì¢…ë³„ ì·¨ì—…ê·œì¹™ ë¹„êµ ë¶„ì„í‘œ
==========================================

ìƒì„±ì¼: ${today}

${comparisonContent}

==========================================
â€» ë³¸ ë¶„ì„í‘œëŠ” AI ì‹œìŠ¤í…œì— ì˜í•œ ìë™ ë¶„ì„ ê²°ê³¼ì…ë‹ˆë‹¤.
==========================================
            `.trim();
            
            const blob = new Blob([exportContent], { type: 'text/plain;charset=utf-8' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `ì—…ì¢…ë³„_ë¹„êµë¶„ì„í‘œ_${today.replace(/\./g, '')}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            // í˜„ì¬ ë‚ ì§œë¡œ ì¼ë¶€ í•„ë“œ ì´ˆê¸°í™”
            const today = new Date();
            console.log('ğŸš€ ì·¨ì—…ê·œì¹™ AI ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ:', today.toLocaleDateString('ko-KR'));
            
            // ì¸í„°ë™í‹°ë¸Œ ìš”ì†Œë“¤ ì´ˆê¸°í™”
            const inputs = document.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.parentElement.style.transform = 'translateY(-2px)';
                });
                
                input.addEventListener('blur', function() {
                    this.parentElement.style.transform = 'translateY(0)';
                });
            });

            // ë²„íŠ¼ í˜¸ë²„ íš¨ê³¼
            const buttons = document.querySelectorAll('.btn');
            buttons.forEach(button => {
                button.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-2px) scale(1.02)';
                });
                
                button.addEventListener('mouseleave', function() {
                    if (!this.disabled) {
                        this.style.transform = 'translateY(0) scale(1)';
                    }
                });
            });
        });

        // í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤
        document.addEventListener('keydown', function(e) {
            // Ctrl + Enterë¡œ ë¹ ë¥¸ ìƒì„±/ê²€í† 
            if (e.ctrlKey && e.key === 'Enter') {
                const activeTab = document.querySelector('.tab-content.active');
                if (activeTab.id === 'generate') {
                    generateRules();
                } else if (activeTab.id === 'review') {
                    reviewRules();
                } else if (activeTab.id === 'compare') {
                    compareRules();
                }
            }
            
            // íƒ­ ë„¤ë¹„ê²Œì´ì…˜ (Ctrl + 1,2,3)
            if (e.ctrlKey) {
                switch(e.key) {
                    case '1':
                        e.preventDefault();
                        switchTab('generate');
                        document.querySelector('[onclick="switchTab(\'generate\')"]').click();
                        break;
                    case '2':
                        e.preventDefault();
                        switchTab('review');
                        document.querySelector('[onclick="switchTab(\'review\')"]').click();
                        break;
                    case '3':
                        e.preventDefault();
                        switchTab('compare');
                        document.querySelector('[onclick="switchTab(\'compare\')"]').click();
                        break;
                }
            }
        });
    </script>
</body>
</html>