<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>취업규칙 AI 자동화 플랫폼</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="header glass-card">
            <h1><i class="fas fa-robot"></i> 취업규칙 AI 자동화 플랫폼</h1>
            <p>AI 기반 취업규칙 자동 생성 및 법령 준수 검토 시스템</p>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="switchTab('generate')">
                <span><i class="fas fa-magic"></i> 규칙 생성</span>
            </button>
            <button class="tab" onclick="switchTab('review')">
                <span><i class="fas fa-search"></i> 규칙 검토</span>
            </button>
            <button class="tab" onclick="switchTab('compare')">
                <span><i class="fas fa-chart-bar"></i> 비교 분석</span>
            </button>
        </div>
        
        <!-- 규칙 생성 탭 -->
        <div id="generate" class="tab-content active">
            <div class="section-header">
                <i class="fas fa-magic icon"></i>
                <h2>취업규칙 자동 생성</h2>
            </div>
            
            <div class="form-section">
                <div class="form-panel">
                    <div class="form-group">
                        <label for="companyName">
                            <i class="fas fa-building"></i>
                            회사명
                        </label>
                        <input type="text" id="companyName" placeholder="주식회사 샘플" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="industry">
                            <i class="fas fa-industry"></i>
                            업종
                        </label>
                        <select id="industry" required>
                            <option value="">업종 선택</option>
                            <option value="manufacturing">🏭 제조업</option>
                            <option value="it">💻 정보통신업</option>
                            <option value="retail">🛍️ 도소매업</option>
                            <option value="finance">🏦 금융업</option>
                            <option value="construction">🏗️ 건설업</option>
                            <option value="service">🔧 서비스업</option>
                            <option value="food">🍽️ 음식점업</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="employeeCount">
                            <i class="fas fa-users"></i>
                            직원 수
                        </label>
                        <input type="number" id="employeeCount" placeholder="50" min="1" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="workingHours">
                            <i class="fas fa-clock"></i>
                            근무시간
                        </label>
                        <select id="workingHours">
                            <option value="9to6">09:00 - 18:00</option>
                            <option value="8to5">08:00 - 17:00</option>
                            <option value="10to7">10:00 - 19:00</option>
                            <option value="flexible">유연근무제</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="specialProvisions">
                            <i class="fas fa-edit"></i>
                            특별 조항
                        </label>
                        <textarea id="specialProvisions" placeholder="회사별 특별한 규정이나 조항을 입력하세요..."></textarea>
                    </div>
                </div>
                
                <div class="form-panel preview-section">
                    <h3><i class="fas fa-file-alt"></i> 생성된 취업규칙 미리보기</h3>
                    <div id="generatedRules">
                        <div style="color: #94a3b8; text-align: center; padding: 60px 20px;">
                            <i class="fas fa-arrow-left" style="font-size: 2rem; margin-bottom: 16px; opacity: 0.5;"></i>
                            <p style="font-size: 18px; font-weight: 500;">좌측 정보를 입력하고 "규칙 생성" 버튼을 클릭하세요.</p>
                            <p style="font-size: 14px; margin-top: 8px; opacity: 0.7;">AI가 자동으로 법령에 맞는 완전한 취업규칙을 생성합니다.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="generateRules()">
                    <i class="fas fa-magic"></i> 규칙 생성
                </button>
                <button class="btn btn-secondary" onclick="downloadRules()">
                    <i class="fas fa-download"></i> 다운로드
                </button>
                <button class="btn btn-success" onclick="autoReview()">
                    <i class="fas fa-search"></i> 자동 검토
                </button>
            </div>
            
            <div class="loading" id="generateLoading">
                <div class="spinner"></div>
                <p><i class="fas fa-cog fa-spin"></i> AI가 완전한 취업규칙을 생성하고 있습니다...</p>
            </div>
        </div>
        
        <!-- 규칙 검토 탭 -->
        <div id="review" class="tab-content">
            <div class="section-header">
                <i class="fas fa-search icon"></i>
                <h2>취업규칙 자동 검토</h2>
            </div>
            
            <div class="form-section">
                <div class="form-panel">
                    <div class="form-group">
                        <label for="reviewCompany">
                            <i class="fas fa-building"></i>
                            회사명
                        </label>
                        <input type="text" id="reviewCompany" placeholder="검토할 회사명">
                    </div>
                    
                    <div class="form-group">
                        <label for="reviewIndustry">
                            <i class="fas fa-industry"></i>
                            업종
                        </label>
                        <select id="reviewIndustry">
                            <option value="">업종 선택</option>
                            <option value="manufacturing">🏭 제조업</option>
                            <option value="it">💻 정보통신업</option>
                            <option value="retail">🛍️ 도소매업</option>
                            <option value="finance">🏦 금융업</option>
                            <option value="construction">🏗️ 건설업</option>
                            <option value="service">🔧 서비스업</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="rulesText">
                            <i class="fas fa-file-text"></i>
                            취업규칙 원문
                        </label>
                        <textarea id="rulesText" placeholder="검토할 취업규칙 전문을 입력하세요...

예시:
제1조 (목적) 이 규칙은 회사의 근로자의 취업에 관한 사항을 정함을 목적으로 한다.
제2조 (적용범위) 이 규칙은 회사의 모든 근로자에게 적용한다.
..."></textarea>
                    </div>
                </div>
                
                <div class="form-panel">
                    <div id="reviewResult" class="analysis-result" style="display: none;">
                        <h3><i class="fas fa-clipboard-check"></i> 검토 결과</h3>
                        <div id="riskLevel"></div>
                        <div id="issues"></div>
                        <div id="suggestions"></div>
                    </div>
                    
                    <div id="noReviewYet" style="color: #94a3b8; text-align: center; padding: 60px 20px;">
                        <i class="fas fa-search" style="font-size: 2rem; margin-bottom: 16px; opacity: 0.5;"></i>
                        <p style="font-size: 18px; font-weight: 500;">취업규칙을 입력하고 검토를 시작하세요.</p>
                        <p style="font-size: 14px; margin-top: 8px; opacity: 0.7;">AI가 법령 준수 여부를 자동으로 분석합니다.</p>
                    </div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="reviewRules()">
                    <i class="fas fa-search"></i> 검토 시작
                </button>
                <button class="btn btn-secondary" onclick="generateReport()">
                    <i class="fas fa-file-alt"></i> 보고서 생성
                </button>
            </div>
            
            <div class="loading" id="reviewLoading">
                <div class="spinner"></div>
                <p><i class="fas fa-cog fa-spin"></i> AI가 법령 기반으로 검토하고 있습니다...</p>
            </div>
        </div>
        
        <!-- 비교 분석 탭 -->
        <div id="compare" class="tab-content">
            <div class="section-header">
                <i class="fas fa-chart-bar icon"></i>
                <h2>업종별 비교 분석</h2>
            </div>
            
            <div class="form-section">
                <div class="form-panel">
                    <div class="form-group">
                        <label for="compareIndustry">
                            <i class="fas fa-industry"></i>
                            비교 업종
                        </label>
                        <select id="compareIndustry">
                            <option value="it">💻 정보통신업</option>
                            <option value="manufacturing">🏭 제조업</option>
                            <option value="finance">🏦 금융업</option>
                            <option value="retail">🛍️ 도소매업</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="compareSize">
                            <i class="fas fa-users"></i>
                            회사 규모
                        </label>
                        <select id="compareSize">
                            <option value="small">🏢 소기업 (10-49명)</option>
                            <option value="medium">🏬 중기업 (50-299명)</option>
                            <option value="large">🏭 대기업 (300명 이상)</option>
                        </select>
                    </div>
                    
                    <div class="info-card highlight">
                        <h4><i class="fas fa-info-circle"></i> 분석 범위</h4>
                        <p>• 업종별 표준 근로조건 비교</p>
                        <p>• 규모별 복리후생 수준 분석</p>
                        <p>• 법적 리스크 요소 검토</p>
                        <p>• 개선 권장사항 제시</p>
                    </div>
                </div>
                
                <div class="form-panel preview-section">
                    <h3><i class="fas fa-chart-line"></i> 업종별 표준 기준</h3>
                    <div id="comparisonResult">
                        <div style="color: #94a3b8; text-align: center; padding: 60px 20px;">
                            <i class="fas fa-chart-bar" style="font-size: 2rem; margin-bottom: 16px; opacity: 0.5;"></i>
                            <p style="font-size: 18px; font-weight: 500;">분석을 시작하려면 "분석 시작" 버튼을 클릭하세요.</p>
                            <p style="font-size: 14px; margin-top: 8px; opacity: 0.7;">업종별 표준 기준과 비교 분석 결과를 제공합니다.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="compareRules()">
                    <i class="fas fa-chart-bar"></i> 분석 시작
                </button>
                <button class="btn btn-secondary" onclick="exportComparison()">
                    <i class="fas fa-file-export"></i> 비교표 내보내기
                </button>
            </div>
        </div>
    </div>

    <script>
        // ===== 🔧 MCP 기본 시스템 =====
        
        // 무료 법령 데이터베이스
        const FREE_LEGAL_DATABASE = {
            laborStandardsAct: {
                "제50조": {
                    title: "근로시간",
                    content: "1주간의 근로시간은 휴게시간을 제외하고 40시간을 초과할 수 없다.",
                    penalty: "위반 시 2년 이하의 징역 또는 2천만원 이하의 벌금"
                },
                "제55조": {
                    title: "휴게시간",
                    content: "근로시간이 4시간인 경우에는 30분 이상, 8시간인 경우에는 1시간 이상의 휴게시간을 근로시간 도중에 주어야 한다.",
                    penalty: "위반 시 500만원 이하의 벌금"
                },
                "제60조": {
                    title: "연차유급휴가",
                    content: "1년간 8할 이상 출근한 근로자에게는 15일의 유급휴가를 주어야 한다.",
                    penalty: "위반 시 500만원 이하의 벌금"
                }
            },
            industrySpecificLaws: {
                "it": ["개인정보보호법 준수 의무", "정보통신망법 보안 규정", "재택근무 가이드라인"],
                "manufacturing": ["산업안전보건법 필수 준수", "위험물질 취급 규정", "작업환경 측정 의무"],
                "finance": ["금융실명법 준수", "자본시장법 내부통제", "개인신용정보법 보호"]
            }
        };

        // 업종별 벤치마킹 데이터
        const FREE_INDUSTRY_BENCHMARKS = {
            'it': {
                averageWorkingHours: 40,
                flexibleWorkRate: 75,
                averageVacationDays: 20,
                commonBenefits: ['재택근무', '교육비지원', '도서비지원'],
                salaryStructure: '연봉제 90%',
                source: '2024 IT업계 근로조건 조사 (무료 공개자료)'
            },
            'manufacturing': {
                averageWorkingHours: 42,
                shiftWorkRate: 60,
                averageVacationDays: 18,
                commonBenefits: ['안전보험', '작업복지급', '건강검진'],
                salaryStructure: '월급제 70%',
                source: '제조업협회 공개 통계 (무료)'
            },
            'finance': {
                averageWorkingHours: 40,
                averageVacationDays: 22,
                commonBenefits: ['금융상품우대', '자격증지원'],
                salaryStructure: '연봉제',
                source: '금융업 통계'
            },
            'retail': {
                averageWorkingHours: 40,
                averageVacationDays: 15,
                commonBenefits: ['직원할인', '판매인센티브'],
                salaryStructure: '시급제',
                source: '도소매업 통계'
            }
        };

        // ===== 🏆 완전한 취업규칙 생성 함수 =====
        function generateCompleteRules(params) {
            const { companyName, industry, employeeCount, workingHours, specialProvisions } = params;
            
            const workingHoursText = {
                '9to6': '오전 9시부터 오후 6시까지',
                '8to5': '오전 8시부터 오후 5시까지', 
                '10to7': '오전 10시부터 오후 7시까지',
                'flexible': '유연근무제 적용'
            };

            // 업종별 특화 조항
            let industryChapter = '';
            if (industry === 'it') {
                industryChapter = `
                    <h3>제6장 정보보안 및 개인정보보호</h3>
                    <p><strong>제15조 (정보보안)</strong><br>
                    1. 근로자는 개인정보보호법 및 정보통신망 이용촉진 및 정보보호 등에 관한 법률을 준수해야 한다.<br>
                    2. 회사의 정보시스템에 대한 무단 접근, 정보 유출, 바이러스 유포 등을 금지한다.<br>
                    3. 업무용 컴퓨터에는 회사가 승인한 소프트웨어만 설치할 수 있다.</p>
                    
                    <p><strong>제16조 (개인정보보호)</strong><br>
                    1. 고객의 개인정보를 처리하는 근로자는 개인정보보호 교육을 의무적으로 이수해야 한다.<br>
                    2. 개인정보는 업무 목적 외에 사용할 수 없으며, 퇴직 시 모든 개인정보를 삭제해야 한다.<br>
                    3. 개인정보 유출 시 관련 법령에 따라 징계 및 손해배상 책임을 진다.</p>
                    
                    <p><strong>제17조 (재택근무)</strong><br>
                    1. IT업무 특성상 재택근무를 허용하며, 세부사항은 별도 규정에 따른다.<br>
                    2. 재택근무 시에도 정보보안 규정을 동일하게 적용한다.<br>
                    3. 재택근무용 장비는 회사 보안정책에 따라 관리되어야 한다.</p>
                `;
            } else if (industry === 'manufacturing') {
                industryChapter = `
                    <h3>제6장 안전 및 보건</h3>
                    <p><strong>제15조 (안전규정 준수)</strong><br>
                    1. 근로자는 산업안전보건법에 따라 안전보호구를 착용하고 안전수칙을 준수해야 한다.<br>
                    2. 위험작업 시에는 반드시 2인 이상이 작업하며, 안전관리자의 승인을 받아야 한다.<br>
                    3. 안전사고 발생 시 즉시 상급자에게 보고하고 응급조치를 취해야 한다.</p>
                    
                    <p><strong>제16조 (작업환경 관리)</strong><br>
                    1. 회사는 안전한 작업환경 조성을 위해 정기적인 작업환경 측정을 실시한다.<br>
                    2. 유해물질 취급 근로자에게는 특별 건강검진을 실시한다.<br>
                    3. 작업장 내 금연을 원칙으로 하며, 지정된 흡연구역에서만 흡연할 수 있다.</p>
                    
                    <p><strong>제17조 (보호구 착용)</strong><br>
                    1. 안전모, 안전화, 보호복 등 개인보호구 착용은 의무사항이다.<br>
                    2. 보호구는 회사에서 지급하며, 근로자는 이를 적절히 관리해야 한다.<br>
                    3. 보호구 미착용으로 인한 사고는 근로자에게 책임이 있다.</p>
                `;
            } else if (industry === 'finance') {
                industryChapter = `
                    <h3>제6장 금융업 특별 규정</h3>
                    <p><strong>제15조 (금융정보 보호)</strong><br>
                    1. 금융실명거래 및 비밀보장에 관한 법률을 엄격히 준수해야 한다.<br>
                    2. 고객의 금융정보는 업무 목적 외에 절대 사용할 수 없다.<br>
                    3. 금융정보 유출 시 관련 법령에 따른 형사처벌 및 손해배상 책임을 진다.</p>
                    
                    <p><strong>제16조 (이해충돌 방지)</strong><br>
                    1. 자본시장과 금융투자업에 관한 법률에 따른 이해충돌 방지 의무를 준수한다.<br>
                    2. 근로자 본인 및 가족의 주식투자는 사전 신고 후 승인을 받아야 한다.<br>
                    3. 내부정보를 이용한 투자나 제3자 제공을 금지한다.</p>
                    
                    <p><strong>제17조 (보안 규정)</strong><br>
                    1. 금융기관의 특성상 보안 규정을 엄격히 적용한다.<br>
                    2. 업무시간 외 고객정보 접근을 금지하며, 모든 접근 기록을 보관한다.<br>
                    3. 보안카드, 공인인증서 등 보안도구는 타인과 공유할 수 없다.</p>
                `;
            }

            // 회사 규모별 조항
            let sizeSpecificClauses = '';
            if (employeeCount >= 300) {
                sizeSpecificClauses = `
                    <p><strong>제18조 (노사협의회)</strong><br>
                    1. 근로자참여 및 협력증진에 관한 법률에 따라 노사협의회를 설치·운영한다.<br>
                    2. 노사협의회는 분기별 1회 이상 개최한다.</p>
                `;
            } else if (employeeCount >= 50) {
                sizeSpecificClauses = `
                    <p><strong>제18조 (고충처리)</strong><br>
                    1. 근로자의 고충 처리를 위한 고충처리위원을 두며, 매월 고충처리 결과를 공지한다.<br>
                    2. 익명 신고도 가능하며, 신고자에 대한 불이익 처우를 금지한다.</p>
                `;
            }

            return `
                <div class="generated-rules">
                    <h2>${companyName} 취업규칙</h2>
                    
                    <div style="text-align: center; margin: 20px 0; padding: 15px; background: #e3f2fd; border-radius: 8px;">
                        <p style="color: #1565c0; font-weight: bold;">📋 본 규칙은 근로기준법, 산업안전보건법 등 관련 법령을 준수하여 작성되었습니다.</p>
                    </div>
                    
                    <h3>제1장 총칙</h3>
                    <p><strong>제1조 (목적)</strong><br>
                    이 규칙은 ${companyName}(이하 "회사"라 한다)의 근로자의 취업에 관한 사항을 정하여 근로조건의 명확화와 원활한 사업운영을 목적으로 한다.</p>
                    
                    <p><strong>제2조 (적용범위)</strong><br>
                    1. 이 규칙은 회사의 모든 근로자에게 적용한다.<br>
                    2. 근로계약, 단체협약에 이 규칙보다 유리한 조건이 있는 경우에는 그 조건을 적용한다.<br>
                    3. 이 규칙에 정하지 아니한 사항은 근로기준법 및 관련 법령에 따른다.</p>
                    
                    <p><strong>제3조 (용어의 정의)</strong><br>
                    1. "근로자"라 함은 회사에 고용되어 임금을 받고 근로를 제공하는 자를 말한다.<br>
                    2. "임금"이라 함은 기본급, 제수당, 상여금, 기타 어떤 명칭으로든지 근로의 대가로 지급되는 모든 금품을 말한다.</p>

                    <h3>제2장 근로계약</h3>
                    <p><strong>제4조 (근로계약의 체결)</strong><br>
                    1. 회사는 근로자를 채용할 때 근로조건을 명시한 근로계약서를 작성하여 교부한다.<br>
                    2. 근로계약서에는 임금, 근로시간, 휴일, 휴가 등 근로조건을 구체적으로 명시한다.<br>
                    3. 수습기간은 3개월 이내로 하며, 수습기간 중에도 이 규칙을 적용한다.</p>
                    
                    <p><strong>제5조 (채용시 제출서류)</strong><br>
                    1. 이력서 및 자기소개서<br>
                    2. 졸업증명서 또는 재학증명서<br>
                    3. 경력증명서(해당자에 한함)<br>
                    4. 건강진단서<br>
                    5. 기타 회사가 필요하다고 인정하는 서류</p>

                    <h3>제3장 근로시간 및 휴게</h3>
                    <p><strong>제6조 (근로시간)</strong><br>
                    1. 소정근로시간은 주 40시간으로 하고, 1일 8시간으로 한다. (근로기준법 제50조)<br>
                    2. 근무시간은 ${workingHoursText[workingHours]}로 한다.<br>
                    3. 토요일과 일요일은 휴일로 한다.</p>
                    
                    <p><strong>제7조 (휴게시간)</strong><br>
                    1. 점심시간은 12:00~13:00 (1시간)으로 한다. (근로기준법 제55조)<br>
                    2. 근로시간이 4시간인 경우에는 30분 이상의 휴게시간을 준다.<br>
                    3. 휴게시간은 근로자가 자유롭게 이용할 수 있다.</p>
                    
                    <p><strong>제8조 (연장근로)</strong><br>
                    1. 업무상 필요에 의해 연장근로를 실시할 수 있으나, 근로자의 동의를 받아야 한다.<br>
                    2. 연장근로는 1주 12시간, 1개월 한도 내에서 실시한다.<br>
                    3. 연장근로에 대해서는 통상임금의 50% 이상을 가산하여 지급한다.</p>

                    <h3>제4장 휴일 및 휴가</h3>
                    <p><strong>제9조 (휴일)</strong><br>
                    1. 주휴일: 매주 토요일, 일요일<br>
                    2. 국경일 및 관공서의 공휴일에 관한 규정에 따른 공휴일<br>
                    3. 근로자의 날(5월 1일)<br>
                    4. 기타 회사가 정하는 날</p>
                    
                    <p><strong>제10조 (연차유급휴가)</strong><br>
                    1. 1년간 8할 이상 출근한 근로자에게는 15일의 유급휴가를 준다. (근로기준법 제60조)<br>
                    2. 계속근로 연수가 1년 늘어날 때마다 1일씩 가산하되, 총 25일을 한도로 한다.<br>
                    3. 연차휴가는 근로자가 청구하는 시기에 주되, 사업 운영에 현저한 지장이 있는 경우 시기를 변경할 수 있다.</p>
                    
                    <p><strong>제11조 (경조휴가)</strong><br>
                    1. 본인 결혼: 5일<br>
                    2. 배우자, 본인 및 배우자의 부모 사망: 5일<br>
                    3. 본인 및 배우자의 조부모, 외조부모 사망: 3일<br>
                    4. 자녀 결혼: 1일<br>
                    5. 배우자 출산: 3일</p>

                    <h3>제5장 임금</h3>
                    <p><strong>제12조 (임금의 구성)</strong><br>
                    1. 임금은 기본급과 제수당으로 구성한다.<br>
                    2. 제수당은 직책수당, 연장근로수당, 야간근로수당, 휴일근로수당 등으로 구분한다.<br>
                    3. 상여금은 연 2회(하계, 동계) 지급하며, 세부사항은 별도 규정에 따른다.</p>
                    
                    <p><strong>제13조 (임금의 지급)</strong><br>
                    1. 임금은 매월 25일에 지급한다. 단, 지급일이 휴일인 경우에는 그 전일에 지급한다.<br>
                    2. 임금은 통화로 직접 근로자에게 그 전액을 지급한다.<br>
                    3. 근로자가 동의한 경우 은행계좌로 지급할 수 있다.</p>
                    
                    <p><strong>제14조 (퇴직급여)</strong><br>
                    1. 근로자퇴직급여 보장법에 따라 퇴직금 또는 퇴직연금을 지급한다.<br>
                    2. 계속근로기간 1년에 대하여 30일분 이상의 평균임금을 퇴직금으로 지급한다.<br>
                    3. 퇴직금 중간정산은 관련 법령에 따라 허용되는 경우에만 가능하다.</p>

                    ${industryChapter}
                    
                    ${sizeSpecificClauses}

                    <h3>제7장 징계</h3>
                    <p><strong>제19조 (징계의 종류)</strong><br>
                    징계의 종류는 다음과 같다. (근로기준법 제27조)<br>
                    1. 견책: 서면 경고<br>
                    2. 감봉: 1개월 이하의 기간 동안 임금의 10% 이하 감액<br>
                    3. 정직: 1개월 이하의 기간 동안 출근 정지<br>
                    4. 해고: 근로관계 종료</p>
                    
                    <p><strong>제20조 (징계 사유)</strong><br>
                    다음 각 호에 해당하는 경우 징계를 한다.<br>
                    1. 정당한 이유 없이 무단결근이 연속 3일 이상인 경우<br>
                    2. 회사의 명예나 신용을 실추시킨 경우<br>
                    3. 회사의 기밀을 누설하거나 경업행위를 한 경우<br>
                    4. 고의 또는 중대한 과실로 회사에 손해를 입힌 경우<br>
                    5. 기타 이 규칙이나 복무규정을 위반한 경우</p>
                    
                    <p><strong>제21조 (징계 절차)</strong><br>
                    1. 징계위원회를 구성하여 징계 여부 및 정도를 결정한다.<br>
                    2. 징계 대상자에게는 충분한 소명 기회를 부여한다.<br>
                    3. 징계 결정은 서면으로 통지하며, 이의신청 절차를 안내한다.</p>

                    ${specialProvisions ? `<h3>제8장 특별 조항</h3><p><strong>제22조 (특별 규정)</strong><br>${specialProvisions}</p>` : ''}

                    <h3>제9장 보칙</h3>
                    <p><strong>제23조 (규칙의 변경)</strong><br>
                    1. 이 규칙의 변경은 근로기준법에 따른 절차를 거쳐야 한다.<br>
                    2. 근로자에게 불리한 변경은 근로자 과반수의 동의를 받아야 한다.</p>
                    
                    <p><strong>제24조 (시행일)</strong><br>
                    이 규칙은 ${new Date().toLocaleDateString('ko-KR')}부터 시행한다.</p>
                    
                    <div style="margin-top: 40px; text-align: center; color: #6c757d; border-top: 2px solid #e2e8f0; padding-top: 20px;">
                        <p><strong>제정일:</strong> ${new Date().toLocaleDateString('ko-KR')}</p>
                        <p style="margin-top: 15px; font-size: 18px;"><strong>${companyName}</strong></p>
                        <p style="margin-top: 5px;"><strong>대표이사 (인)</strong></p>
                    </div>
                    
                    <div style="margin-top: 30px; padding: 20px; background: #f0f8ff; border: 2px solid #4169e1; border-radius: 8px;">
                        <h4 style="color: #1e3a8a; margin-bottom: 10px;">📋 법령 준수 현황</h4>
                        <p style="color: #1e40af; margin-bottom: 5px;">✅ 근로기준법 제50조 (근로시간) 준수</p>
                        <p style="color: #1e40af; margin-bottom: 5px;">✅ 근로기준법 제55조 (휴게시간) 준수</p>
                        <p style="color: #1e40af; margin-bottom: 5px;">✅ 근로기준법 제60조 (연차휴가) 준수</p>
                        <p style="color: #1e40af; margin-bottom: 5px;">✅ 근로기준법 제27조 (징계절차) 준수</p>
                        ${industry === 'it' ? '<p style="color: #1e40af;">✅ 개인정보보호법 준수 조항 포함</p>' : ''}
                        ${industry === 'manufacturing' ? '<p style="color: #1e40af;">✅ 산업안전보건법 준수 조항 포함</p>' : ''}
                        ${industry === 'finance' ? '<p style="color: #1e40af;">✅ 금융관련법 준수 조항 포함</p>' : ''}
                    </div>
                </div>
            `;
        }

        // ===== 🔍 AI 분석 함수 =====
        function advancedLegalAnalysis(rulesText, industry) {
            const issues = [];
            const suggestions = [];
            let riskLevel = 'low';

            const requiredPatterns = [
                { name: "근로시간", regex: /근로시간.*40시간|주.*40시간/i, lawRef: "근로기준법 제50조" },
                { name: "휴게시간", regex: /휴게시간.*1시간|점심시간.*1시간/i, lawRef: "근로기준법 제55조" },
                { name: "연차휴가", regex: /연차.*휴가.*15일|유급휴가.*15일/i, lawRef: "근로기준법 제60조" },
                { name: "징계규정", regex: /징계.*절차|징계.*종류/i, lawRef: "근로기준법 제27조" }
            ];

            requiredPatterns.forEach(pattern => {
                if (!pattern.regex.test(rulesText)) {
                    issues.push({
                        type: 'critical',
                        title: `${pattern.name} 규정 누락`,
                        description: `${pattern.lawRef}에 따른 ${pattern.name} 규정이 없습니다.`,
                        solution: `${pattern.name}에 대한 구체적인 규정을 추가해야 합니다.`,
                        lawReference: pattern.lawRef,
                        severity: 'critical'
                    });
                    riskLevel = 'critical';
                }
            });

            const dangerousPatterns = [
                { regex: /주.*48시간|주.*50시간/i, issue: "법정 근로시간 초과", law: "근로기준법 제50조 위반" },
                { regex: /연차.*10일|연차.*12일/i, issue: "연차휴가 일수 부족", law: "근로기준법 제60조 위반" },
                { regex: /임금.*삭감|급여.*차감/i, issue: "임금 삭감 조항 위험", law: "근로기준법 제43조 위반 소지" }
            ];

            dangerousPatterns.forEach(pattern => {
                if (pattern.regex.test(rulesText)) {
                    issues.push({
                        type: 'critical',
                        title: pattern.issue,
                        description: `${pattern.law}에 해당할 수 있습니다.`,
                        solution: "해당 조항을 법령에 맞게 수정해야 합니다.",
                        lawReference: pattern.law,
                        severity: 'critical'
                    });
                    riskLevel = 'critical';
                }
            });

            const industryChecks = {
                'it': [{ regex: /개인정보.*보호|정보보안/i, missing: "IT업종 필수 개인정보보호 규정 누락", suggestion: "개인정보보호법에 따른 정보보안 규정 추가 권장" }],
                'manufacturing': [{ regex: /안전.*규정|보호구.*착용/i, missing: "제조업 필수 안전 규정 누락", suggestion: "산업안전보건법에 따른 안전 규정 필수 추가" }]
            };

            if (industryChecks[industry]) {
                industryChecks[industry].forEach(check => {
                    if (!check.regex.test(rulesText)) {
                        issues.push({
                            type: 'medium',
                            title: check.missing,
                            description: check.suggestion,
                            solution: "업종별 특화 규정을 추가하세요.",
                            severity: 'medium'
                        });
                        if (riskLevel === 'low') riskLevel = 'medium';
                    }
                });
            }

            return { issues, suggestions, riskLevel };
        }

        function calculateComplianceScore(validation) {
            const totalChecks = 10;
            const criticalIssues = validation.issues.filter(i => i.severity === 'critical').length;
            const highIssues = validation.issues.filter(i => i.severity === 'high').length;
            const mediumIssues = validation.issues.filter(i => i.severity === 'medium').length;
            
            const score = Math.max(0, 100 - (criticalIssues * 25) - (highIssues * 15) - (mediumIssues * 10));
            return Math.round(score);
        }

        // ===== 🎯 메인 함수들 =====
        async function generateRules() {
            const companyName = document.getElementById('companyName').value;
            const industry = document.getElementById('industry').value;
            const employeeCount = parseInt(document.getElementById('employeeCount').value);
            const workingHours = document.getElementById('workingHours').value;
            const specialProvisions = document.getElementById('specialProvisions').value;

            if (!companyName || !industry || !employeeCount) {
                alert('필수 정보를 모두 입력해주세요.');
                return;
            }

            document.getElementById('generateLoading').style.display = 'block';

            try {
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                const smartRules = generateCompleteRules({
                    companyName, industry, employeeCount, workingHours, specialProvisions
                });

                const validation = advancedLegalAnalysis(smartRules, industry);
                const complianceScore = calculateComplianceScore(validation);
                
                let rulesHTML = smartRules;
                
                if (validation.issues.length > 0) {
                    rulesHTML += `
                        <div style="margin-top: 30px; padding: 20px; background: #fff3cd; border: 2px solid #ffc107; border-radius: 8px;">
                            <h4 style="color: #856404; margin-bottom: 10px;">⚠️ 법적 검토 필요</h4>
                            <p style="color: #856404;">생성된 규칙에서 ${validation.issues.length}개의 검토 필요 사항이 발견되었습니다.</p>
                            <p style="color: #856404; font-size: 14px;">자동 검토 탭에서 상세 내용을 확인하세요.</p>
                            <p style="color: #856404; font-weight: bold;">📊 법령 준수율: ${complianceScore}%</p>
                        </div>
                    `;
                } else {
                    rulesHTML += `
                        <div style="margin-top: 30px; padding: 20px; background: #d4edda; border: 2px solid #28a745; border-radius: 8px;">
                            <h4 style="color: #155724; margin-bottom: 10px;">✅ 법령 준수 확인</h4>
                            <p style="color: #155724;">생성된 규칙이 현행 법령을 완벽히 준수합니다!</p>
                            <p style="color: #155724; font-weight: bold;">📊 법령 준수율: ${complianceScore}%</p>
                            <p style="color: #155724; font-size: 14px;">🎉 노동부 신고 준비 완료 상태입니다.</p>
                        </div>
                    `;
                }
                
                document.getElementById('generatedRules').innerHTML = rulesHTML;
                window.lastGeneratedValidation = validation;
                
                console.log('🎉 완전한 취업규칙 생성 완료!', {
                    totalArticles: '24개 조항',
                    compliance: complianceScore + '%',
                    issues: validation.issues.length
                });
                
            } catch (error) {
                alert('규칙 생성 중 오류가 발생했습니다: ' + error.message);
            } finally {
                document.getElementById('generateLoading').style.display = 'none';
            }
        }

        async function reviewRules() {
            const rulesText = document.getElementById('rulesText').value;
            const industry = document.getElementById('reviewIndustry').value;
            
            if (!rulesText.trim()) {
                alert('검토할 취업규칙을 입력해주세요.');
                return;
            }

            document.getElementById('reviewLoading').style.display = 'block';
            document.getElementById('reviewResult').style.display = 'none';
            document.getElementById('noReviewYet').style.display = 'none';

            try {
                await new Promise(resolve => setTimeout(resolve, 2000));
                const result = advancedLegalAnalysis(rulesText, industry);
                displayReviewResult(result);
                document.getElementById('reviewResult').style.display = 'block';
            } catch (error) {
                alert('검토 중 오류가 발생했습니다: ' + error.message);
            } finally {
                document.getElementById('reviewLoading').style.display = 'none';
            }
        }

        function compareRules() {
            const industry = document.getElementById('compareIndustry').value;
            const size = document.getElementById('compareSize').value;
            
            const benchmarkData = FREE_INDUSTRY_BENCHMARKS[industry] || {
                averageWorkingHours: 40,
                averageVacationDays: 15,
                commonBenefits: ['기본 복리후생'],
                salaryStructure: '월급제',
                source: '일반 통계 (추정)'
            };
            
            const comparisonData = {
                standard: {
                    workingHours: `주 ${benchmarkData.averageWorkingHours}시간`,
                    vacation: `법정 연차 + 추가 ${benchmarkData.averageVacationDays - 15}일`,
                    benefits: benchmarkData.commonBenefits.join(', '),
                    salary: benchmarkData.salaryStructure,
                    special: `${industry} 업종 특화 혜택`
                },
                sizeAdjustment: { vacation: 1.0, benefits: 1.0, salary: 1.0 },
                industryName: {
                    'it': '정보통신업',
                    'manufacturing': '제조업', 
                    'finance': '금융업',
                    'retail': '도소매업'
                }[industry],
                sizeName: {
                    'small': '소기업',
                    'medium': '중기업',
                    'large': '대기업'
                }[size]
            };
            
            displayComparison(comparisonData);
        }

        // ===== 🖥️ UI 함수들 =====
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.closest('.tab').classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        function autoReview() {
            const generatedContent = document.getElementById('generatedRules').innerHTML;
            if (!generatedContent || generatedContent.includes('좌측 정보를 입력하고')) {
                alert('먼저 취업규칙을 생성해주세요.');
                return;
            }
            
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.querySelector('[onclick="switchTab(\'review\')"]').classList.add('active');
            document.getElementById('review').classList.add('active');
            
            const companyName = document.getElementById('companyName').value;
            const industry = document.getElementById('industry').value;
            
            document.getElementById('reviewCompany').value = companyName;
            document.getElementById('reviewIndustry').value = industry;
            document.getElementById('rulesText').value = generatedContent.replace(/<[^>]*>/g, '').trim();
            
            setTimeout(() => reviewRules(), 500);
        }

        function displayReviewResult(result) {
            const riskLevelDiv = document.getElementById('riskLevel');
            const issuesDiv = document.getElementById('issues');
            const suggestionsDiv = document.getElementById('suggestions');

            const riskLabels = {
                'low': { text: '낮음', class: 'risk-low', icon: 'fas fa-check-circle' },
                'medium': { text: '보통', class: 'risk-medium', icon: 'fas fa-exclamation-triangle' },
                'high': { text: '높음', class: 'risk-high', icon: 'fas fa-exclamation-circle' },
                'critical': { text: '매우 높음', class: 'risk-critical', icon: 'fas fa-times-circle' }
            };

            const risk = riskLabels[result.riskLevel];
            riskLevelDiv.innerHTML = `<div class="risk-badge ${risk.class}"><i class="${risk.icon}"></i> 위험도: ${risk.text}</div>`;

            let issuesHTML = '<h4><i class="fas fa-exclamation-triangle"></i> 발견된 문제점</h4>';
            if (result.issues.length === 0) {
                issuesHTML += '<div class="info-card success"><p><i class="fas fa-check"></i> 발견된 문제점이 없습니다.</p></div>';
            } else {
                result.issues.forEach(issue => {
                    const issueClass = issue.type === 'critical' ? '' : issue.type === 'high' ? '' : 'warning';
                    issuesHTML += `
                        <div class="issue-item ${issueClass}">
                            <h4><i class="fas fa-bug"></i> ${issue.title}</h4>
                            <p><strong>문제:</strong> ${issue.description}</p>
                            <p><strong>해결방안:</strong> ${issue.solution}</p>
                            ${issue.lawReference ? `<p><strong>관련법령:</strong> ${issue.lawReference}</p>` : ''}
                        </div>
                    `;
                });
            }
            issuesDiv.innerHTML = issuesHTML;

            let suggestionsHTML = '<h4><i class="fas fa-lightbulb"></i> 개선 제안사항</h4>';
            if (result.suggestions.length === 0) {
                suggestionsHTML += '<div class="info-card"><p>추가 제안사항이 없습니다.</p></div>';
            } else {
                result.suggestions.forEach(suggestion => {
                    suggestionsHTML += `
                        <div class="issue-item info">
                            <h4><i class="fas fa-star"></i> ${suggestion.title}</h4>
                            <p><strong>제안:</strong> ${suggestion.description}</p>
                            <p><strong>효과:</strong> ${suggestion.benefit}</p>
                        </div>
                    `;
                });
            }
            suggestionsDiv.innerHTML = suggestionsHTML;
        }

        function displayComparison(data) {
            const resultDiv = document.getElementById('comparisonResult');
            
            resultDiv.innerHTML = `
                <div style="background: white; color: #2d3748; border-radius: 16px; padding: 32px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
                    <h3 style="color: #6366f1; margin-bottom: 24px;">
                        <i class="fas fa-chart-line"></i> ${data.industryName} ${data.sizeName} 표준 기준
                    </h3>
                    
                    <div class="comparison-grid">
                        <div class="comparison-item">
                            <h4><i class="fas fa-clock"></i> 근로시간</h4>
                            <p>${data.standard.workingHours}</p>
                        </div>
                        
                        <div class="comparison-item">
                            <h4><i class="fas fa-umbrella-beach"></i> 휴가제도</h4>
                            <p>${data.standard.vacation}</p>
                        </div>
                        
                        <div class="comparison-item">
                            <h4><i class="fas fa-gift"></i> 복리후생</h4>
                            <p>${data.standard.benefits}</p>
                        </div>
                        
                        <div class="comparison-item">
                            <h4><i class="fas fa-money-bill-wave"></i> 급여체계</h4>
                            <p>${data.standard.salary}</p>
                        </div>
                    </div>
                    
                    <div class="info-card highlight" style="margin-top: 24px;">
                        <h4><i class="fas fa-star"></i> 특별사항</h4>
                        <p>${data.standard.special}</p>
                    </div>
                    
                    <div class="info-card success" style="margin-top: 20px;">
                        <h4><i class="fas fa-lightbulb"></i> 권장사항</h4>
                        <p>• 업종 특성에 맞는 유연한 근무제도 도입</p>
                        <p>• 직원 만족도 향상을 위한 복리후생 확대</p>
                        <p>• 법령 준수를 위한 정기적인 규정 검토</p>
                        <p>• 동종업계 대비 경쟁력 있는 처우 수준 유지</p>
                    </div>
                </div>
            `;
        }

        // ===== 💾 다운로드 함수들 =====
        function downloadRules() {
            const content = document.getElementById('generatedRules').innerText;
            if (!content || content.includes('좌측 정보를 입력하고')) {
                alert('먼저 취업규칙을 생성해주세요.');
                return;
            }
            
            const blob = new Blob([reportContent], { type: 'text/plain;charset=utf-8' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `취업규칙_검토보고서_${companyName}_${today.replace(/\./g, '')}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        function exportComparison() {
            const comparisonContent = document.getElementById('comparisonResult').innerText;
            if (!comparisonContent || comparisonContent.includes('분석을 시작하려면')) {
                alert('먼저 비교 분석을 완료해주세요.');
                return;
            }
            
            const today = new Date().toLocaleDateString('ko-KR');
            const exportContent = `
==========================================
업종별 취업규칙 비교 분석표
==========================================

생성일: ${today}

${comparisonContent}

==========================================
※ 본 분석표는 AI 시스템에 의한 자동 분석 결과입니다.
==========================================
            `.trim();
            
            const blob = new Blob([exportContent], { type: 'text/plain;charset=utf-8' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `업종별_비교분석표_${today.replace(/\./g, '')}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        // ===== 🚀 초기화 및 이벤트 =====
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date();
            console.log('🚀 완전한 취업규칙 AI 시스템 초기화 완료:', today.toLocaleDateString('ko-KR'));
            
            // 인터랙티브 요소들 초기화
            const inputs = document.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.parentElement.style.transform = 'translateY(-2px)';
                });
                
                input.addEventListener('blur', function() {
                    this.parentElement.style.transform = 'translateY(0)';
                });
            });

            // 버튼 호버 효과
            const buttons = document.querySelectorAll('.btn');
            buttons.forEach(button => {
                button.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-2px) scale(1.02)';
                });
                
                button.addEventListener('mouseleave', function() {
                    if (!this.disabled) {
                        this.style.transform = 'translateY(0) scale(1)';
                    }
                });
            });
        });

        // 키보드 단축키
        document.addEventListener('keydown', function(e) {
            // Ctrl + Enter로 빠른 생성/검토
            if (e.ctrlKey && e.key === 'Enter') {
                const activeTab = document.querySelector('.tab-content.active');
                if (activeTab.id === 'generate') {
                    generateRules();
                } else if (activeTab.id === 'review') {
                    reviewRules();
                } else if (activeTab.id === 'compare') {
                    compareRules();
                }
            }
            
            // 탭 네비게이션 (Ctrl + 1,2,3)
            if (e.ctrlKey) {
                switch(e.key) {
                    case '1':
                        e.preventDefault();
                        switchTab('generate');
                        document.querySelector('[onclick="switchTab(\'generate\')"]').click();
                        break;
                    case '2':
                        e.preventDefault();
                        switchTab('review');
                        document.querySelector('[onclick="switchTab(\'review\')"]').click();
                        break;
                    case '3':
                        e.preventDefault();
                        switchTab('compare');
                        document.querySelector('[onclick="switchTab(\'compare\')"]').click();
                        break;
                }
            }
        });

        console.log('🎉 완전한 MCP 취업규칙 시스템 준비 완료!');
        console.log('📋 특징: 24개 조항, 법령 준수 검토, 업종별 특화, 실시간 분석');
    </script>
</body>
</html> new Blob([content], { type: 'text/plain;charset=utf-8' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = '취업규칙.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        function generateReport() {
            const reviewResult = document.getElementById('reviewResult');
            if (reviewResult.style.display === 'none') {
                alert('먼저 검토를 완료해주세요.');
                return;
            }
            
            const companyName = document.getElementById('reviewCompany').value || '회사명';
            const today = new Date().toLocaleDateString('ko-KR');
            
            const reportContent = `
==========================================
취업규칙 검토 보고서
==========================================

회사명: ${companyName}
검토일: ${today}
검토자: AI 자동 검토 시스템

${reviewResult.innerText}

==========================================
※ 본 보고서는 AI 시스템에 의한 자동 분석 결과이며, 
   최종 검토는 노무 전문가의 확인이 필요합니다.
==========================================
            `.trim();
            
            const blob =